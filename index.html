<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>nat/yama — under construction</title>

<style>
  html, body {
    margin: 0;
    height: 200vh;
    font-family: serif;
    transition: background 2s ease;
  }

  /* 背景用グラデーションアニメーション */
  body {
    background: linear-gradient(135deg, #e0f0ff, #cce6ff, #b3dbff);
    background-size: 400% 400%;
    animation: gradientMove 30s ease infinite;
  }

  @keyframes gradientMove {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  /* 溶けるテキスト層 */
  .text {
    position: fixed;
    inset: 0;
    padding: 4rem;
    pointer-events: none;
    transition: opacity 0.6s ease, filter 0.6s ease;
    color: rgba(60, 60, 60, 0.55);
    font-size: 1.5rem;
    line-height: 1.55;
  }

  .lang {
    opacity: 0;
    transition: opacity 0.8s ease;
  }

  .lang.active {
    opacity: 1;
  }

  .studio {
    display: block;
    margin-bottom: 3.5rem;
    font-size: 1.1rem;
    opacity: 0.45;
    letter-spacing: 0.02em;
  }

  /* UI */
  .ui {
    position: fixed;
    bottom: 2rem;
    right: 2rem;
    font-size: 14px;
    letter-spacing: 0.12em;
    color: rgba(60,60,60,0.6);
  }

  .ui span {
    cursor: pointer;
    opacity: 0.4;
  }

  .ui span:hover {
    opacity: 1;
  }

  /* mobile */
  @media (max-width: 768px) {
    .text {
      padding: 2rem 1.5rem;
      font-size: 1.6rem;
    }

    .studio {
      margin-bottom: 2rem;
      font-size: 0.95rem;
    }

    .ui {
      bottom: 1.5rem;
      right: 1.5rem;
      font-size: 12px;
    }
  }
</style>
</head>

<body>

<div class="text" id="text">
  <span class="studio">nat/yama — under construction</span>

  <p class="lang en active">
    Berlin-based designer<br>
    for cultural projects
  </p>
  <p class="lang ja">
    nat/yama はコンセプト設計から表現まで手がける<br>
    アートディレクターです
  </p>
  <p class="lang de">
    Kultur- und Mediengestalterin<br>
    für Bildungs- und Kontextprojekte
  </p>
</div>

<div class="ui">
  <span data-lang="en">EN</span> |
  <span data-lang="ja">JP</span> |
  <span data-lang="de">DE</span>
</div>

<script>
const langs = document.querySelectorAll('.lang');
const text = document.getElementById('text');
const buttons = document.querySelectorAll('.ui span');

// 言語ごとの淡いグラデーションパレット
const bgGradients = {
  en: ['#e0f0ff', '#cce6ff', '#b3dbff'], // 青系
  ja: ['#fff7e6', '#fff0cc', '#ffe6b3'], // オレンジ〜黄系
  de: ['#f0fff0', '#dfffe0', '#cce6cc']  // 緑系
};

let currentLang = navigator.language.startsWith('ja') ? 'ja' :
                  navigator.language.startsWith('de') ? 'de' : 'en';

let gradientIndex = 0;

// 言語切替関数
function setLang(lang) {
  langs.forEach(l => l.classList.remove('active'));
  document.querySelector('.lang.' + lang).classList.add('active');
  currentLang = lang;

  // 背景を最初の色にリセットしてアニメーション再開
  const colors = bgGradients[lang];
  document.body.style.background = `linear-gradient(135deg, ${colors.join(',')})`;
  document.body.style.backgroundSize = '400% 400%';
  gradientIndex = 0;

  text.style.opacity = 1;
  text.style.filter = 'blur(0px)';
}

// 言語ボタンクリック
buttons.forEach(b => {
  b.onclick = () => setLang(b.dataset.lang);
});

// グラデーションをスムーズに推移させるアニメーション
function animateGradient() {
  const colors = bgGradients[currentLang];
  const nextIndex = (gradientIndex + 1) % colors.length;
  const color1 = colors[gradientIndex];
  const color2 = colors[nextIndex];

  document.body.style.background = `linear-gradient(135deg, ${color1}, ${color2})`;
  document.body.style.backgroundSize = '400% 400%';

  gradientIndex = nextIndex;
  setTimeout(animateGradient, 6000); // 6秒ごとに切り替え
}

// スクロールで文字が溶けるエフェクト
window.addEventListener('scroll', () => {
  const t = Math.min(scrollY / 400, 1);
  text.style.opacity = 1 - t;
  text.style.filter = `blur(${t * 6}px)`;
});

// 初期設定
setLang(currentLang);
animateGradient();
</script>

</body>
</html>
